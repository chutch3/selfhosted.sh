version: "2.0"
deployment: docker_compose

environment:
  BASE_DOMAIN: homelab.local

machines:
  driver: {host: 192.168.1.10, user: admin}
  node-01: {host: 192.168.1.11, user: admin}
  node-02: {host: 192.168.1.12, user: admin}

services:
  homepage:
    image: ghcr.io/gethomepage/homepage:latest
    port: 3000
    deploy: driver
    enabled: true

  nginx:
    image: nginx:alpine
    ports: [80, 443]
    deploy: all
    enabled: true

  jellyfin:
    image: jellyfin/jellyfin:latest
    port: 8096
    deploy: node-01
    enabled: true
    storage: true

  sonarr:
    image: linuxserver/sonarr:latest
    port: 8989
    deploy: node-02
    enabled: true
    storage: true

  disabled-service:
    image: test:latest
    port: 9999
    deploy: driver
    enabled: false
